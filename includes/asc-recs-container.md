---
author: memildin
ms.service: security-center
ms.topic: include
ms.date: 03/14/2021
ms.author: memildin
ms.custom: generated
ms.openlocfilehash: 4a03a36f098035db1a91b4516dedb6a303aa41d2
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 03/20/2021
ms.locfileid: "103466165"
---
Ebben a kategóriában **24** javaslat van.

|Ajánlás |Description |Súlyosság |
|---|---|---|
|Engedélyezve kell lennie az Azure Defender for Container nyilvántartójának |Biztonságos, tárolón alapuló munkaterhelések létrehozásához győződjön meg arról, hogy a rájuk épülő lemezképek mentesek az ismert biztonsági rések.<br>Az Azure Defender for Container-beállításjegyzékek megkeresik a beállításjegyzékben a biztonsági réseket az egyes leküldett tárolók rendszerképein, és képeket tesznek elérhetővé.<br>A tárolók biztonsági helyzetének javítása és a támadások elleni védelem érdekében engedélyezze az Azure Defender számára a Container-nyilvántartásokat.<br><br>Fontos: a szervizelését ez a javaslat a tároló-beállításjegyzékek védelméhez nyújt díjat. Ha ebben az előfizetésben nem találhatók tároló-nyilvántartások, akkor nem számítunk fel díjat.<br>Ha a jövőben az előfizetéshez tartozó tároló-beállításjegyzékeket hoz létre, azok automatikusan védve lesznek, és a díjak az adott időpontban kezdődnek.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-container-registry-integration'>További információ az Azure Defender a Container-jegyzékekről.</a><br />(Kapcsolódó szabályzat: [Az Azure Defender for Container beállításjegyzékét engedélyezni kell](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2fc25d9a16-bc35-4e15-a7e5-9db606bf9ed4)) |Magas |
|Engedélyezni kell az Azure Defender for Kubernetes |A Kubernetes készült Azure Defender valós idejű veszélyforrások elleni védelmet biztosít a tároló környezetek számára, és riasztásokat hoz létre a gyanús tevékenységekhez.<br>Ezen adatok alapján gyorsan elháríthatja a biztonsági problémákat, és javíthatja tárolói védelmét.<br><br>Fontos: a szervizelését ez a javaslat a Kubernetes-fürtök védelméhez nyújt díjat. Ha nem rendelkezik Kubernetes-fürtökkel ebben az előfizetésben, nem számítunk fel díjat.<br>Ha a későbbiekben bármilyen Kubernetes-fürtöt hoz létre ezen az előfizetésen, a rendszer automatikusan védelmet biztosít, és a díjak az adott időpontban kezdődnek.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration'>További információ az Azure Defender for Kubernetes szolgáltatásról.</a><br />(Kapcsolódó szabályzat: [Az Azure Defender for Kubernetes engedélyezése](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2f523b5cd1-3e23-492f-a539-13118b6d1e3a)szükséges) |Magas |
|A Kubernetes Azure Policy bővítményét telepíteni és engedélyezni kell a fürtökön |A Kubernetes Azure Policy bővítménye kibővíti a <a target="_blank" href="https://github.com/open-policy-agent/gatekeeper">forgalomirányító</a> v3, a <a target="_blank" href="https://www.openpolicyagent.org/">nyílt házirendügynök</a> (OPA) által biztosított belépésvezérlés-webhookot, amely a fürtökre központosított, egységes módon alkalmazható<p>Security Center a bővítményt a fürtön belüli biztonsági képességek és megfelelőség naplózására és betartatására kéri. <a target="_blank" href="https://docs.microsoft.com/azure/governance/policy/concepts/policy-for-kubernetes"> További információ</a>.</p><p>A Kubernetes v 1.14.0 vagy újabb verzió szükséges.</p><br />(Kapcsolódó szabályzat: a [Kubernetes szolgáltatáshoz (ak) Azure Policy bővítményt kell telepíteni és engedélyezni a fürtökön](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0a15ec92-a229-4763-bb14-0ea34a568f8d)) |Magas |
|A tároló CPU-és memória-korlátozásait kényszeríteni kell |A processzor-és memória-korlátok betartatása megakadályozza az erőforrás-kimerülések elleni támadásokat (a szolgáltatás megtagadásának formája).<p>Azt javasoljuk, hogy a tárolók korlátozásait úgy állítsa be, hogy a futtatókörnyezet megakadályozza, hogy a tároló ne használja a beállított erőforrás-korlátot.</p><br />(Kapcsolódó szabályzat: [Győződjön meg róla, hogy a tároló processzor-és memória-erőforrásainak korlátai nem haladják meg a Kubernetes-fürtben megadott korlátokat](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe345eecc-fa47-480f-9e88-67dcc122b164)) |Közepes |
|A tároló lemezképeit csak megbízható kibocsátásiegység-forgalmi jegyzékből kell telepíteni |A Kubernetes-fürtön futó rendszerképeknek ismert és figyelt tároló lemezkép-jegyzékből kell származniuk. A megbízható beállításjegyzékek csökkentik a fürt expozíciós kockázatát azáltal, hogy korlátozzák az ismeretlen sebezhetőségek, a biztonsági problémák és a rosszindulatú rendszerképek bevezetésének lehetséges lehetőségét.<br />(Kapcsolódó szabályzat: [csak a Kubernetes-fürtön engedélyezett tároló lemezképek biztosítása](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffebd0533-8e55-448f-b837-bd0e06f16469)) |Magas |
|A tároló-beállításjegyzékeket ügyfél által felügyelt kulccsal kell titkosítani (CMK) |Az ügyfél által felügyelt kulcsok használatával kezelheti a beállításjegyzékben lévő adatok titkosítását. Alapértelmezés szerint az adatok titkosítva vannak a szolgáltatás által felügyelt kulcsokkal, de az ügyfél által felügyelt kulcsokat (CMK) általában a szabályozási megfelelőségi előírások teljesítéséhez szükségesek. A CMKs lehetővé teszi az adattitkosítást egy Ön által létrehozott és birtokolt Azure Key Vault kulccsal. A kulcs életciklusának teljes körű ellenőrzése és felelőssége, beleértve a rotációt és a felügyeletet is. További információ a CMK-titkosításról: https://aka.ms/acr/CMK .<br />(Kapcsolódó szabályzat: [a tároló-beállításjegyzékeket ügyfél által felügyelt kulccsal kell titkosítani (CMK)](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580)) |Közepes |
|A tároló-beállításjegyzékek nem engedélyezhetik a nem korlátozott hálózati hozzáférést |Az Azure-beli tároló-beállításjegyzékek alapértelmezés szerint a hálózatról származó gazdagépekről fogadják az interneten keresztüli kapcsolatokat. Ha az esetleges fenyegetésekkel szemben kívánja megvédeni a beállításjegyzékét, csak bizonyos nyilvános IP-címekről vagy címtartományok elérését engedélyezze. Ha a beállításjegyzék nem rendelkezik IP-/tűzfalszabály-vagy konfigurált virtuális hálózattal, akkor az nem megfelelő állapotú erőforrásokban fog megjelenni. További információ a Container Registry hálózati szabályokról: https://aka.ms/acr/portal/public-network és itt https://aka.ms/acr/vnet .<br />(Kapcsolódó szabályzat: a tároló-beállításjegyzékek [nem engedélyezhetik a nem korlátozott hálózati hozzáférést](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fd0793b48-0edc-4296-a390-4c75d1bdfd71)) |Közepes |
|A tároló-beállításjegyzéknek privát hivatkozást kell használnia |Az Azure Private link használatával a virtuális hálózatot az Azure-szolgáltatásokhoz nyilvános IP-cím nélkül csatlakoztathatja a forráson vagy a célhelyen. A privát kapcsolati platform kezeli a fogyasztó és a szolgáltatások közötti kapcsolatot az Azure gerinc hálózaton. Ha privát végpontokat rendel a tároló-beállításjegyzékhez a teljes szolgáltatás helyett, akkor az adatszivárgási kockázatokkal szemben is védve lesz. További információ: https://aka.ms/acr/private-link .<br />(Kapcsolódó szabályzat: a tároló-beállításjegyzékeknek [privát hivatkozást kell használniuk](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe8eef0a8-67cf-4eb4-9386-14b0e78733d4)) |Közepes |
|A jogosultság-eszkalációs tárolót el kell kerülni |A tárolók nem futtathatják a jogosultság-eszkalációt a Kubernetes-fürt gyökeréhez.<br>A AllowPrivilegeEscalation attribútum azt szabályozza, hogy egy folyamat több jogosultságot is elérhet-e, mint a fölérendelt folyamat.<br />(Kapcsolódó szabályzat: a [Kubernetes-fürtök nem engedélyezhetik a tároló jogosultságának kiterjesztését](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1c6e92c9-99f0-4e55-9cf2-0c234dc48f99)) |Közepes |
|A bizalmas gazdagépek névtereit megosztó tárolókat el kell kerülni |A tárolón kívüli jogosultságok eszkalációjának elleni védelem érdekében a Kubernetes-fürtben ne legyenek a pod-hozzáférések a bizalmas gazdagépek névteréhez (a gazdagépi folyamat azonosítója és a gazdagép IPC).<br />(Kapcsolódó szabályzat: a [Kubernetes nem oszthatják meg a gazdagépi folyamat azonosítóját vagy a GAZDAGÉP IPC-névterét](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8)) |Közepes |
|A tárolóknak csak az engedélyezett portok figyelésére kell figyelniük |A Kubernetes-fürt támadási felületének csökkentése érdekében korlátozza a hozzáférést a fürthöz úgy, hogy korlátozza a tárolók hozzáférését a konfigurált portokhoz.<br />(Kapcsolódó szabályzat: [Győződjön meg arról, hogy a tárolók csak a Kubernetes-fürt engedélyezett portjain figyelik](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f440b515e-a580-421e-abeb-b159a61ddcbc)) |Közepes |
|Nem módosítható (csak olvasható) rendszerindító fájlrendszert kell kikényszeríteni a tárolók számára |A tárolók csak olvasható legfelső szintű fájlrendszerrel futnak a Kubernetes-fürtben. A nem módosítható fájlrendszer biztosítja a tárolók futtatáskor történő módosítását, és az elérési útra rosszindulatú bináris fájlok kerülnek.<br />(Kapcsolódó szabályzat: [a Kubernetes csak olvasható root fájlrendszerrel kell futnia](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fdf49d893-a74c-421d-bc95-c663042e5b80)) |Közepes |
|A Kubernetes-fürtök csak HTTPS protokollon keresztül érhetők el |A HTTPS használata biztosítja a hitelesítést, és védelmet biztosít a hálózati rétegbeli lehallgatási támadásoktól érkező adatok számára. Ez a képesség jelenleg általánosan elérhető a Kubernetes szolgáltatás (ak) számára, valamint az AK-motor és az Azure arc-kompatibilis Kubernetes előzetes verziójában. További információért látogasson el ide: https://aka.ms/kubepolicydoc<br />(Kapcsolódó szabályzat: [https bejövő forgalom kikényszerítve a Kubernetes-fürtben](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d)) |Magas |
|A Kubernetes Services Management API-kiszolgálót korlátozott hozzáféréssel kell konfigurálni |Annak biztosítása érdekében, hogy csak az engedélyezett hálózatokból, gépekből vagy alhálózatokból származó alkalmazások férhessenek hozzá a fürthöz, korlátozza a hozzáférést a Kubernetes Service Management API-kiszolgálóhoz. A hozzáférést a jogosult IP-címtartományok definiálásával, illetve az API-kiszolgálók magánhálózati fürtként való beállításával korlátozhatja, ahogy azt a című rész ismerteti <a target='_blank' href=https://docs.microsoft.com/azure/aks/private-clusters>https://docs.microsoft.com/azure/aks/private-clusters</a> .<br />(Kapcsolódó szabályzat: [a Kubernetes-szolgáltatásokban meg kell határozni a jóváhagyott IP-tartományokat](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0e246bcf-5f6f-4f87-bc6f-775d4712c7ea)) |Magas |
|A Kubernetes-szolgáltatásokat nem sebezhető Kubernetes-verzióra kell frissíteni |Frissítse a Kubernetes Service-fürtöt egy újabb Kubernetes-verzióra az aktuális Kubernetes-verzióban található ismert sebezhetőségek elleni védelem érdekében. A 2019-9946-es és a 1.12.7 +, a 1.13.5 + és a 1.14.0 + Kubernetes-verzióban található biztonsági rés: <a target='_blank' href='https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9946'>CVE-</a> .<br />(Kapcsolódó szabályzat: a [Kubernetes-szolgáltatásokat nem sebezhető Kubernetes-verzióra kell frissíteni](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffb893a29-21bb-418c-a157-e99480ec364c)) |Magas |
|A minimálisan privilegizált Linux-funkciókat kell kikényszeríteni a tárolók számára |A tároló támadási felületének csökkentése érdekében korlátozza a linuxos képességeket, és adjon meg konkrét jogosultságokat a tárolók számára anélkül, hogy a legfelső szintű felhasználó összes jogosultságát megadja. Javasoljuk, hogy minden képességet elejtsen, majd adja hozzá a szükséges<br />(Kapcsolódó szabályzat: a [Kubernetes csak az engedélyezett képességeket használhatják](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fc26596ff-4d70-4e6a-9a30-c2506bd2f80c)) |Közepes |
|A tárolók AppArmor-profiljának felülbírálását vagy letiltását korlátozni kell |A Kubernetes-fürtön futó tárolókat csak az engedélyezett AppArmor-profilokra kell korlátozni.<br>; A AppArmor (Application Armor) egy linuxos biztonsági modul, amely védelmet nyújt az operációs rendszer és az alkalmazásai számára a biztonsági fenyegetésektől. A használatához a rendszergazda egy AppArmor biztonsági profilt társít az egyes programokhoz.<br />(Kapcsolódó szabályzat: a [Kubernetes csak az engedélyezett AppArmor-profilokat használhatják](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f511f5417-5d12-434d-ab2e-816901e72a5e)) |Magas |
|Az emelt szintű tárolókat el kell kerülni |A nem korlátozott gazdagép-hozzáférés elkerülése érdekében, ha lehetséges, kerülje a privilegizált tárolók használatát.<p>A Kiemelt tárolók rendelkeznek a gazdagép összes alapvető képességével. A támadások belépési pontjaiként használhatók, és kártékony programkódot vagy kártevőket is felhasználhatnak a feltört alkalmazások, gazdagépek és hálózatok számára.</p><br />(Kapcsolódó szabályzat: [nem engedélyezett a privilegizált tárolók engedélyezése a Kubernetes-fürtben](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f95edb821-ddaf-4404-9732-666045e056b4)) |Közepes |
|A Kubernetes Services Role-Based Access Control kell használni |Ha részletes szűrést szeretne biztosítani a felhasználók által végrehajtható műveletekhez, használja a Role-Based Access Control (RBAC) a Kubernetes Service-fürtök engedélyeinek kezeléséhez és a vonatkozó engedélyezési házirendek konfigurálásához. További információ: <a target='_blank' href='https://docs.microsoft.com/azure/aks/concepts-identity#role-based-access-controls-rbac'>Azure szerepköralapú hozzáférés-vezérlés</a>.<br />(Kapcsolódó szabályzat: [szerepköralapú Access Control (RBAC) használata a Kubernetes-szolgáltatásokban](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fac4a19c2-fa67-49b4-8ae5-0b2e78c49457)) |Magas |
|A tárolók futtatását root felhasználóként el kell kerülni |A tárolókat nem root felhasználóként kell futtatni a Kubernetes-fürtben. Egy folyamat futtatása a tárolóban lévő legfelső szintű felhasználóként futtatja a gazdagép gyökerét. Kompromisszum esetén a támadó gyökeret tartalmaz a tárolóban, és a téves konfigurációk könnyebben kihasználhatók lesznek.<br />(Kapcsolódó szabályzat: [a Kubernetes-fürt hüvelyei és tárolói csak jóváhagyott felhasználói és csoportfiókokat futtathatnak](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ff06ddb64-5fa3-4b77-b166-acb36f7f6042).) |Magas |
|A szolgáltatásoknak csak a megengedett portok figyelésére kell figyelniük |A Kubernetes-fürt támadási felületének csökkentése érdekében korlátozza a hozzáférést a fürthöz úgy, hogy korlátozza a szolgáltatásokhoz való hozzáférést a konfigurált portokhoz.<br />(Kapcsolódó szabályzat: [a szolgáltatások csak a Kubernetes-fürtön engedélyezett portok figyelését biztosítják](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f233a2a17-77ca-4fb1-9b6b-69223d272a44)) |Közepes |
|A gazdagép hálózatkezelésének és portjainak használatát korlátozni kell |A Kubernetes-fürtön lévő Pod-hozzáférés korlátozása a gazdagép hálózata és a megengedett gazdagép-porttartomány számára. Az engedélyezett hostNetwork attribútummal létrehozott hüvelyek megosztják a csomópont hálózati területét. Ha el szeretné kerülni a sérült tárolót a hálózati forgalom szippantása ellen, javasoljuk, hogy ne helyezze a hüvelyt a gazdagép hálózatára. Ha a csomópont hálózatán elérhetővé kell tenni egy tároló portot, és egy Kubernetes szolgáltatás-csomópont portjának használata nem felel meg az igényeinek, egy másik lehetőség, hogy megadhatja a tárolóhoz tartozó hostPort a pod spec-ban.<br />(Kapcsolódó szabályzat: [a Kubernetes-fürt hüvelyének csak a jóváhagyott gazdagép-hálózatot és a porttartomány kell használnia](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f82985f06-dc18-4a48-bc1c-b9f4f0098cfe)) |Közepes |
|A pod HostPath mennyiségi csatlakoztatások használatát egy ismert listára kell korlátozni, hogy korlátozza a csomópontok hozzáférését a feltört tárolók között |Javasoljuk, hogy a Kubernetes-fürtön lévő Pod HostPath Volume-csatlakoztatásokat a konfigurált engedélyezett gazdagép-elérési utakra korlátozza. Kompromisszum esetén a tároló csomóponthoz való hozzáférést korlátozni kell<br />(Kapcsolódó szabályzat: a [Kubernetes-fürt Pod hostPath kötetei csak az engedélyezett gazdagép-elérési utakat használják](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f098fc59e-46c7-4d99-9b16-64990e543d75)) |Közepes |
|A Azure Container Registry lemezképekben található biztonsági réseket szervizelni kell (Qualys-alapú) |A Container-rendszerkép sebezhetőségi felmérése megkeresi a beállításjegyzékben a biztonsági réseket, és megjeleníti az egyes képek részletes megállapításait. A biztonsági rések feloldásával nagy mértékben javíthatja a tárolók biztonsági állapotát, és védelmet biztosíthat a támadásoknak.<br />(Kapcsolódó házirend: [a Azure Container Registry lemezképekben található biztonsági réseket szervizelni kell](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5f0f936f-2f01-4bf5-b6be-d423792fa562)) |Magas |
|||
