---
title: Az Azure Service Bus-üzenetek, is észleltünk adattartalmakat és szerializálási |} A Microsoft Docs
description: A Service Bus-üzenet is észleltünk adattartalmakat áttekintése
services: service-bus-messaging
documentationcenter: ''
author: axisc
manager: timlt
editor: spelluru
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/26/2018
ms.author: aschhab
ms.openlocfilehash: 3158f0255810c66605d28856133112181c2916db
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 06/13/2019
ms.locfileid: "61315639"
---
# <a name="messages-payloads-and-serialization"></a>Üzenetek, hasznos adatforgalom és szerializáció

A Microsoft Azure Service Bus üzenetek kezeli. Üzenetek biztosítunk egy hasznos, valamint a metaadatok, kulcs-érték pár tulajdonságai, a hasznos leíró és kezelési utasításait jogosultságot ad a Service Bus és az alkalmazások formájában. Ezekhez a metaadatokhoz alkalmanként elegendő az, hogy a küldő próbál meg kommunikálni a fogadók információkat, és az tartalom üres marad.

A hálózatiobjektum-modellt a hivatalos Service Bus-ügyfél a .NET és a Java, a Service Bus üzenet struktúra, amely van hozzárendelve, és onnan az átviteli protokollokat támogatja a Service Bus absztrakt tükrözik.
 
Service Bus-üzenet tartalmaz egy bináris Hasznosforgalom-szakasszal, amely soha nem kezeli a Service Bus a Szolgáltatásoldali – bármilyen formában és a két készlet tulajdonságai. A *közvetítő tulajdonságait* a rendszer előre. Ezek előre definiált tulajdonságok vagy szabályozza üzenet szintű funkciókat a közvetítő belül, vagy leképezik a gyakori és a szabványos metaadatelem. A *felhasználói tulajdonságok* vannak definiálva, és állítsa be az alkalmazás által kulcs-érték párok gyűjteménye.
 
Az előre meghatározott közvetítő tulajdonságait az alábbi táblázatban láthatók. A nevek az összes hivatalos ügyfél API-k használhatók, és a a [BrokerProperties](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage) JSON-objektumát a HTTP protokoll leképezést.
 
Az AMQP protokoll szintjén használt egyenértékű nevek fel vannak tüntetve zárójelben. 

| Tulajdonság neve                         | Leírás                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  [A ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) (tartalomtípus)           | Igény szerint ismerteti a hasznos az üzenet egy RFC2045, 5. szakasz; formátuma a következő leírója Ha például `application/json`.                                                                                                                                                                                                                                                                                             |
|  [Korrelációs azonosító](/dotnet/api/microsoft.azure.servicebus.message.correlationid#Microsoft_Azure_ServiceBus_Message_CorrelationId) (korrelációs azonosító)       | Lehetővé teszi az alkalmazás adjon meg egy környezetben, az üzenet korrelációs; céljából például, amely tükrözi a **üzenetazonosító** való válaszoló üzenet.                                                                                                                                                                                                                                                                  |
| [DeadLetterSource](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deadlettersource)                      | Nastavit pouze kézbesítetlen lettered, és ezt követően automatikusan által továbbított, a kézbesítetlen levelek várólistájára vonatkozik egy másik entitáshoz lett-üzenetekben. Azt jelzi, hogy az entitást, amelyben az üzenet volt kézbesítetlen lettered. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                  |
| [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount)                         | Ehhez az üzenethez megkísérelt kézbesítések száma. A számláló értéke akkor növekszik, amikor egy üzenet zárolási lejár, vagy az üzenet explicit módon elhagyott a fogadó. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                  |
| [EnqueuedSequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedsequencenumber)                | Amely már automatikus által továbbított üzenetek esetében ez a tulajdonság tükrözi a sorozatszámot, volt először hozzá van rendelve, az üzenet küldése az eredeti pontján. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                                |
| [EnqueuedTimeUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedtimeutc)                       | Az UTC azonnali, amelyen az üzenet elfogadva és megtörtént az entitásban tárolt. Ez az érték mérvadó és semleges érkezési ideje mutatóként használható, ha a fogadó nem szeretné, hogy bízzon meg a küldő óra. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                   |
|  [ExpiresAtUtc](/dotnet/api/microsoft.azure.servicebus.message.expiresatutc) (abszolút-lejárati-time) | Az UTC azonnali, amelyen az üzenet megjelölve törlésre, és már nem érhető el az entitás a lejárat miatti lekérését. Lejárat vezérli a **TimeToLive** számított a EnqueuedTimeUtc + TimeToLive tulajdonság, és ezt a tulajdonságot. Ez a tulajdonság csak olvasható.                                                                                                                                                                           |
| [ForcePersistence](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence)                      | Az üzenetsor vagy témakör, amely rendelkezik a [EnableExpress](/dotnet/api/microsoft.servicebus.messaging.queuedescription.enableexpress) jelzőjének beállítása, ez a tulajdonság jelzi, hogy kell, hogy megmaradjon az üzenet állítható elfogadott, mielőtt lemezre. Ez a standard entitásokhoz nem express viselkedését.                                                                                                                                                                                                         |
| [Címke](/dotnet/api/microsoft.azure.servicebus.message.label) (tárgy)                       | Ez a tulajdonság lehetővé teszi, hogy az alkalmazás a célja a fogadó szabványos módon, az e-mail tárgysorát hasonló üzenet jelzi.                                                                                                                                                                                                                                                                                  |
| [LockedUntilUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.lockeduntilutc)                        | Egy zárolás alatt lekért üzenetek (betekintési zárolással való fogadása mód, előre nem rendezett) Ez a tulajdonság tükrözi, ameddig az üzenet tárolt azonnali UTC az üzenetsor/előfizetés zárolva van. Amikor lejár a zárolás, a [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount) értéke akkor nő, és az üzenet ismét érhető el letöltésre. Ez a tulajdonság csak olvasható.                                                                                                                         |
| [LockToken](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.locktoken)                             | A zárolási jogkivonat eszköztáblára mutató hivatkozás a zárolást a közvetítő által tárolt *betekintési zárolással való* mód kap. A jogkivonat segítségével rögzítheti a zárolás véglegesen keresztül a [késleltetési](message-deferral.md) API és, az adott, a normál szállítási állapot folyamat kívül az üzenetet. Ez a tulajdonság csak olvasható.                                                                                                                                                               |
| [MessageId](/dotnet/api/microsoft.azure.servicebus.message.messageid) (message-id)                | Az üzenet azonosítója nem alkalmazás által meghatározott érték, amely egyedileg azonosítja az üzenetet, és a hasznos adat. Az azonosító egy szabad formátumú karakterlánc, és egy GUID Azonosítót vagy a kérelem környezetéből származó azonosító is tükrözik. Ha engedélyezve van, a [észlelési ismétlődő](duplicate-detection.md) szolgáltatás azonosítja, és eltávolítja a második és további üzenetek ugyanazzal a beküldés **üzenetazonosító**.                                                                |
| [PartitionKey](/dotnet/api/microsoft.azure.servicebus.message.partitionkey)                          | A [particionált entitások](service-bus-partitioning.md), hozzárendelése kapcsolódó üzenetek ugyanarra a belső partícióra, ha az érték lehetővé teszi, így hibátlanul küldésének sorrendje. A partíció keresztül ezt az értéket a kivonatolási függvény akkor választ, és közvetlenül nem kell megválasztani. A munkamenet-kompatibilis entitások esetében a **SessionId** tulajdonság felülbírálja ezt az értéket.                                                                                                       |
| [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto) (válasz – záró)                    | Ez nem kötelező és az alkalmazás által meghatározott érték módja a standard szintű express, az üzenet a fogadó válasz elérési útját. Küldő válaszra vár, ha azt állítja be az érték abszolút vagy relatív elérési útját az üzenetsor vagy témakör azt kell küldeni a választ vár.                                                                                                                                           |
| [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid) (válasz-a-csoport-azonosító)  | Ezt az értéket úgy bővíti a **ReplyTo** információkat, és megadja, hogy **SessionId** kell beállítani, a válasz elküldésekor a válasz entitáshoz.                                                                                                                                                                                                                                                                            |
| [ScheduledEnqueueTimeUtc](/dotnet/api/microsoft.azure.servicebus.message.scheduledenqueuetimeutc)               | Csak elérhetővé tett némi késéssel lekérésre üzenetek Ez a tulajdonság határozza meg, amelyen az üzenet lesz logikailag várólistán lévő, az előkészített, és ezért elérhetővé letöltésre azonnali UTC.                                                                                                                                                                                                                 |
| [sequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sequencenumber)                        | A feladatütemezési egy üzenet fogadja, és a true azonosítóként a közvetítő és a függvény által tárolt rendelt egyedi 64 bites egész szám. A particionált entitások a legfelső 16 bit tükrözik, a partíció azonosítója. Sorozatszámok monoton növelése és gapless. Azok vihetők át a 0, ha elfogy a 48-64 bites tartomány. Ez a tulajdonság csak olvasható.                                                                |
| [Munkamenet-azonosító](/dotnet/api/microsoft.azure.servicebus.message.sessionid) (csoportazonosító)                  | A munkamenet-kompatibilis entitások esetében ez az alkalmazás által meghatározott érték meghatározza a munkamenet-kapcsolatot, az üzenet. Az ugyanazon munkamenet-azonosítóval rendelkező üzenetek összefoglaló zárolás vonatkoznak, és pontosan a megadott sorrendben feldolgozása és a többszintű továbbítás megszüntetése engedélyezése. Az olyan entitások, amelyek nem munkamenet-kompatibilis figyelmen kívül ezt az értéket.                                                                                                                                     |
| [Méret](/dotnet/api/microsoft.azure.servicebus.message.size)                                  | Az üzenet (bájt) számát, a közvetítő naplóban tárolt mérete tükrözi, ahogy azt a tárhelykvótát felé számolnak. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                                                                       |
| [állapot](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.state)                                 | Azt jelzi, hogy az a naplózott üzenet a állapotát. Ez a tulajdonság csak akkor jelentősége során üzenet ("betekintési"), keresse a megállapításához, hogy egy üzenet "aktív" és a kereshető felső részén a várólista eléri-e a funkciófrissítéseket van, vagy a végrehajtásra ütemezett módon. Ez a tulajdonság csak olvasható.                                                                                                                                           |
| [TimeToLive](/dotnet/api/microsoft.azure.servicebus.message.timetolive)                            | Az érték a relatív időtartam elteltével lejár az üzenetet, kezdve az azonnali üzenet lett elfogadva és a közvetítő által tárolt, mint a rögzített **EnqueueTimeUtc**. Ha nincs explicit módon, a feltételezett érték van állítva a **DefaultTimeToLive** a megfelelő üzenetsor vagy témakör. Üzenet-szintű **TimeToLive** értéke nem lehet hosszabb, mint az entitás **DefaultTimeToLive** beállítás. Ha hosszabb, azt csendes módosul. |
| [A](/dotnet/api/microsoft.azure.servicebus.message.to) (záró)                               | Ez a tulajdonság útválasztási forgatókönyvekben jövőbeli használatra fenntartva és magát a közvetítő által jelenleg figyelmen kívül hagyja. Alkalmazások használhatják ezt az értéket a szabály által készített automatikus továbbítása titkosításblokkoló forgatókönyvekben a logikai rendeltetési üzenet jelzi.                                                                                                                                                                                   |
| [ViaPartitionKey](/dotnet/api/microsoft.azure.servicebus.message.viapartitionkey)                       | Ha egy üzenetet küld egy tranzakció hatókörében átviteli keresztül, ezt az értéket az átviteli várólistát partíció választja ki.                                                                                                                                                                                                                                                                                                                 |

Az absztrakt üzenet modell lehetővé teszi, hogy egy üzenetet egy üzenetsorba (ténylegesen mindig HTTPS) HTTP-n keresztül közzétenni kívánt, és AMQP-n keresztül is lekérdezhetők. Mindkét esetben az üzenet megjelenését a megfelelő protokoll kontextusában normál. A közvetítő tulajdonságait le vannak fordítva, igény szerint, és a felhasználó tulajdonságoknak a megfelelő protokoll üzenet modell leginkább megfelelő helyére. HTTP-n felhasználói tulajdonságok le közvetlenül, és a HTTP-fejlécek; az AMQP a a leképezik a **alkalmazástulajdonságok** térkép.

## <a name="message-routing-and-correlation"></a>Üzenet-útválasztással és összehasonlítás céljából

A korábban, kifejezetten leírt broker tulajdonságok egy részének [való](/dotnet/api/microsoft.azure.servicebus.message.to), [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto), [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid), [üzenetazonosító](/dotnet/api/microsoft.azure.servicebus.message.messageid), [ Korrelációs azonosító](/dotnet/api/microsoft.azure.servicebus.message.correlationid), és [SessionId](/dotnet/api/microsoft.azure.servicebus.message.sessionid), üzenetek továbbítását a alkalmazások segítségével adott célhelyre. Ennek szemléltetésére, fontolja meg néhány minta:

- **Egyszerű kérés/válasz**: A közzétevő üzenetet küld egy üzenetsorba, és az üzenetfogyasztó a válaszra vár. A válasz fogadására, a közzétevő tulajdonosa egy üzenetsor, amelybe a válaszok kézbesítéséhez vár. A cím a várólista van kifejezve a **ReplyTo** a kimenő üzenetek tulajdonságát. Amikor válaszol a felhasználói, átmásolja a **üzenetazonosító** azokat a kezelt üzenet a **CorrelationId** tulajdonság a válaszüzenet és kézbesíti az üzenetet a célhelyre jelzi a **ReplyTo** tulajdonság. Egy üzenet partíciónként akár több választ, az alkalmazás környezettől függően.
- **Csoportos küldési kérelem/válasz**: A korábbi minta egy változata a közzétevő küldi el az üzenetet egy témakör és több előfizető felhasználásához az üzenet jogosulttá válik. Az előfizetők mindegyike előfordulhat, hogy válaszoljon a korábban leírt módon. Ez a minta felderítési vagy fel olyan forgatókönyvekben használatos, és a válaszadó általában azonosítja magát egy felhasználói tulajdonságot, vagy a hasznos adat található. Ha **ReplyTo** pontok egy témakörbe, például egy meghatározott felderítési válaszok egy adott célközönségnek lehetnek elosztva.
- **Multiplexálási**: A munkamenet funkció lehetővé teszi, hogy úgy, hogy minden munkamenet (vagy csoport) kapcsolódó üzenetek, azonosítani a hozzá kapcsolódó üzeneteket egyetlen üzenetsor vagy előfizetés keretében adatfolyamok multiplexálási **SessionId** értékek, a rendszer irányítja a a fogadó során meghatározott fogadó tárolja a munkamenet alatt zárolás. További információt a részletek a munkamenetek [Itt](message-sessions.md).
- **Kérés/válasz Multiplexed**: A munkamenet funkció lehetővé teszi, hogy többszintes választ, egy megosztani több lemezverzió. Beállításával **ReplyToSessionId**, a közzétevő utasíthatja a consumer(s) be az érték másolásához a **SessionId** a válaszüzenet tulajdonságát. A közzétételi üzenetsor vagy témakör nem kell munkamenet tisztában lenni. Az üzenet elküldésekor, mivel a közzétevő majd kifejezetten megvárhatja a munkamenetet a következővel az adott **SessionId** az üzenetsorban lévő munkamenet egyetlen külső eseményfogyasztó feltételesen elfogadásával tényleges táblává alakíthatóak. 

Service Bus-névtér belüli útválasztás megvalósíthatók automatikus továbbítása láncolási és a témakör-előfizetés szabályok használatával. Névterek útválasztást megvalósíthatók [használatával Azure LogicApps](https://azure.microsoft.com/services/logic-apps/). Az előző listában jelzett a **való** tulajdonság későbbi használatra fenntartva, és végül a közvetítő kifejezetten engedélyezett funkcióval értelmezhető. Az alkalmazásokat, amelyek útválasztást szeretné kell tegye, így a felhasználói tulajdonságok alapján, és nem támaszkodhat a **való** tulajdonság; azonban most így nem okoz kompatibilitási problémák.

## <a name="payload-serialization"></a>Adattartalom-szerializáció

Ha az átvitel során, vagy tárolja a Service Bus alapjait, a hasznos mindig egy nem átlátszó, bináris letiltása. A [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) tulajdonság lehetővé teszi, hogy írja le a tartalmat, a javasolt formátum folyamatban van egy MIME tartalomtípus leírása alapján IETF RFC2045; tulajdonság az értékek az alkalmazások például `application/json;charset=utf-8`.

A Java vagy .NET Standard változatok eltérően a Service Bus API .NET-keretrendszer verziója támogatja a létrehozása **BrokeredMessage** példányok tetszőleges .NET-objektumokká konstruktorának való átadásával. 

Az örökölt SBMP protokoll használata esetén az ezen objektumok majd az alapértelmezett a bináris szerializáló, vagy külsőleg biztosított serializátor serializovat. Az AMQP protokollt használja, amikor az objektum szerializált AMQP-objektumba. A fogadó kérheti le azokat az objektumokat a a [GetBody<T>()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.getbody#Microsoft_ServiceBus_Messaging_BrokeredMessage_GetBody__1) módot, a várt típus ellátására. Az amqp-vel, az objektumok szerializálni az AMQP-grafikon **ArrayList** és **IDictionary < karakterlánc, objektum >** objektumokat, és bármelyik AMQP-ügyfél is dekódolása őket. 

Bár a rejtett szerializálási Magic Quadrant kényelmes, alkalmazásokat kell objektumszerializáló explicit irányítását és Streamek belefoglalja őket egy üzenet, mielőtt azok objektum gráfok alakítsa, és végezze el a fogadó oldalon a fordított. Ez a együttműködésre eredmények alapján. Megjegyzendő, hogy közben AMQP egy hatékony bináris kódolási modellel rendelkezik, az AMQP-üzenetkezelési rendszerre vannak kötve, és HTTP-ügyfelek ilyen is észleltünk adattartalmakat dekódolási hiba lesz is. 

Általában javasoljuk, hogy JSON-t és az Apache Avro, adattartalom-formátumok a strukturált adatok esetében.

A .NET Standard és a Java API-változatok csak fogadni a bájttömbökhöz, ami azt jelenti, hogy az alkalmazásnak kell kezelnie objektum szerializációs vezérlő. 

## <a name="next-steps"></a>További lépések

További információ a Service Bus-üzenetkezelés, tekintse meg a következő témaköröket:

* [Service Bus-üzenetsorok, -témakörök és -előfizetések](service-bus-queues-topics-subscriptions.md)
* [Bevezetés a Service Bus által kezelt üzenetsorok használatába](service-bus-dotnet-get-started-with-queues.md)
* [A Service Bus-üzenettémakörök és -előfizetések használata](service-bus-dotnet-how-to-use-topics-subscriptions.md)
